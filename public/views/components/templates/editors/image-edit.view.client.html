<script src="../../../../js/image-component.js"></script>

<h1>IMAGE Editor</h1>

<ul class="nav nav-tabs" id="imageTab">
    <li><a id="tab1">Image URL</a></li>
    <li><a id="tab2">Upload Image</a></li>
    <li><a id="tab3">Search Flickr</a></li>
</ul>
<br />

<div class="container-fluid alt-pad" id="tab1Content">
    <div class="col-xs-12">
        <label for="url">URL</label>
        <input ng-model="model.component.url"
               id="url"
               type="url"
               class="form-control"
               placeholder="URL" />
        <label for="width">Width(px)</label>
        <input ng-model="model.component.width"
               id="width"
               name="width"
               type="text"
               value="100%"
               class="form-control"
               placeholder="Width" />
        <label for="height">Height(px)</label>
        <input ng-model="model.component.height"
               id="height"
               name="height"
               type="text"
               value="100%"
               class="form-control"
               placeholder="Height" />
        <button ng-click="model.createImageComponent(model.component)" id="btn-url"
                class="btn btn-block btn-info">Upload Image URL</button>
    </div>
    <br />
</div>

<div class="container-fluid alt-pad" id="tab2Content">
    <div class="col-xs-12">
        <form action="/api/upload"  method="post" enctype="multipart/form-data">
            <label for="upload">Upload</label>
            <input id="upload"
                   name="myFile"
                   type="file"
                   accept="image/*"
                   class="form-control tab-pane"
                   placeholder="Choose file"/>
            <label for="width2">Width(px)</label>
            <input ng-model="model.component.width"
                   id="width2"
                   name="width"
                   type="text"
                   value="100%"
                   class="form-control"
                   placeholder="Width" />
            <label for="height2">Height(px)</label>
            <input ng-model="model.component.height"
                   id="height2"
                   name="height"
                   type="text"
                   value="100%"
                   class="form-control"
                   placeholder="Height" />
            <input name="inid" value="{{model.infographId}}"   style="display: none"/>
            <input name="cid" value="{{model.component._id}}"   style="display: none"/>
            <button onclick="validateInput(event)" class="btn btn-block btn-primary">Upload Image</button>
        </form>
    </div>
</div>



<div class="container-fluid alt-pad" id="tab3Content">

    <div class="col-xs-12">

         <div class="input-group">
             <input ng-model="model.searchText"
                    type="text"
                    placeholder="Search image"
                    class="form-control">
             <span class="input-group-btn">
                 <a ng-click="model.searchPhotos(model.searchText)"
                    class="btn btn-default"
                    type="button">
                     <span class="glyphicon glyphicon-search"></span>
                 </a>
             </span>
         </div>
        <label for="width3">Width(px)</label>
        <input ng-model="model.component.width"
               id="width3"
               name="width"
               type="text"
               value="300"
               class="form-control"
               placeholder="Width" />
        <label for="height3">Height(px)</label>
        <input ng-model="model.component.height"
               id="height3"
               name="height"
               type="text"
               value="300"
               class="form-control"
               placeholder="Height" />
    </div>

    <div class="row">
        <div class="col-xs-12">
            <div class="col-xs-6"
                 ng-repeat="photo in model.photos.photo">
                <img ng-click="model.selectPhoto(photo, model.component.width, model.component.height)"
                     class="img-thumbnail"
                     ng-src="https://farm{{photo.farm}}.staticflickr.com/{{photo.server}}/{{photo.id}}_{{photo.secret}}_q.jpg"/>
            </div>
        </div>
    </div>
</div>